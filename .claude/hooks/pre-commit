#!/bin/sh
# Pre-commit hook for git-workflow-gate integration
# Provides debug context before commit operations

# Log current state for debugging
CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD 2>/dev/null || echo "unknown")
echo "[pre-commit] Branch: $CURRENT_BRANCH"

# Check for uncommitted changes (informational)
if [ -n "$(git status --porcelain 2>/dev/null)" ]; then
  UNCOMMITTED=$(git status --porcelain 2>/dev/null | wc -l | tr -d ' ')
  echo "[pre-commit] Uncommitted changes: $UNCOMMITTED files"
fi

# Echo to stderr for any hooks consuming this output
echo "[pre-commit] Ready for commit validation" >&2
